import { ECATEGORIES } from "./interfaces";

export const SUBCATEGORY_KEYWORDS: Record<string, string[]> = {
  אכילה: [
    "מעדן",
    "אכילה סודית",
    "מטעם",
    "ארוחת ערב",
    "בולע",
    "אוכלת",
    "טועם",
    "לנשנש",
    "לועס",
    "אכלתי",
    "טוען",
    "אוכל",
    "טועמת",
    "חטיף",
    "ארוחה",
    "נוגס",
    "לאכול",
  ],
  "שילובים מוזרים": [
    "שילוב",
    "מערבבת",
    "עם",
    "טובלת",
    "בתוך",
    "על",
    "יחד",
    "תוספת לא רגילה",
    "שמה על",
    "מערבב",
    "כפול",
  ],
  "כמויות מוגזמות": [
    "מפרק",
    "טרפתי הכל",
    "חבילה שלמה",
    "קופסה שלמה",
    "בלי שליטה",
    "בלי לעצור",
    "שקית שלמה",
    "טורף",
    "זוללת",
    "טרפתי",
    "אכילה מופרזת",
  ],
  "אכילה בזמן חריג": [
    "בלילה",
    "בשתיים בלילה",
    "על הבוקר",
    "באמצע הלילה",
    "תרדמת",
    "ספה",
    "נרדם",
    "לפני השינה",
    "ישן",
    "לילה",
    "בחושך",
  ],
  "טקסים והרגלים": [
    "תוך כדי",
    "מול הטלוויזיה",
    "מהסיר",
    "מהיד",
    "בלי צלחת",
    "תמיד",
    "רק כש",
  ],
  הזנחה: ["לא מתלבשת", "מתעלם", "לא מצחצח", "לא", "לא חופף", "נמנע", "מזניח"],
  "טיפוח מוגזם": [
    "חפיפות מרובות",
    "מסיכה",
    "רחצה",
    "חופף",
    "יותר מדי",
    "מתקלח",
    "חפיפה",
    "אמבטיה",
  ],
  "התנהגויות גופניות מוזרות": [
    "מריח",
    "מגרד",
    "חופר באף",
    "מוציא",
    "נוגע בעצמי",
    "נוגע",
    "מריח כפות רגליים",
  ],
  "לבוש חריג": [
    "הלבשה",
    "תלבושת",
    "גרביים טרמיות",
    "תרדמת",
    "פיג'מה כל היום",
    "לבוש",
    "ספה",
    "נרדם",
    "חולצה",
    "ישן",
    "לילה",
    "בגדי שינה",
    "לא מחליף בגדים",
    "מכנסיים",
    "תחתונים",
  ],
  "מציצנות/סטוקינג": [
    "מסתכל",
    "מרגל",
    "בודק",
    "חופר",
    "סטוקינג",
    "מחפש",
    "עוקב",
  ],
  "שימוש כפייתי": [
    "תוכנית",
    "לא מפסיק",
    "שעות על",
    "טלוויזיה",
    "במיטה עם הפלאפון",
    "מרתון",
    "נייד",
    "לגלול",
    "סמארטפון",
    "משדר",
    "מסך",
    "סדרה",
    "סרט",
    "מכשיר",
    "במקום לישון",
    "רואה שעות",
  ],
  "צריכה מוזרה של תוכן": [
    "asmr",
    "דברים מוזרים",
    "חצ'קונים",
    "פיצוצים",
    "סרטוני נפילות",
  ],
  "שיתוף ותיעוד": ["מצלם", "שתף", "מעלה", "תיעוד", "מציגה", "מתייג", "סטורי"],
  "מניפולציות קטנות": [
    "שולחת את הכלב",
    "מרמזת",
    "משחקת",
    "מתחזה",
    "עושה כאילו",
    "מחביאה",
  ],
  "התנהגויות נסתרות": [
    "תוכנית",
    "טלוויזיה",
    "בודקת סטטוס",
    "מציצה",
    "משדר",
    "סדרה",
    "מרגלת",
    "סרט",
    "מסתירה",
    "קוראת הודעות",
    "מרתון",
    "צופה בלי שידעו",
  ],
  "מרד קטן": ["מתנגדת", "עושה נגד", "קונה בכוונה", "דווקא", "עושה הפוך"],
  "משחקי זוגיות": [
    "רוצה שיכסה אותי",
    "עושה הצגות",
    "משחקת ישנה",
    "מחכה לתגובה",
  ],
  צפייה: [
    "תוכנית",
    "רואה",
    "טלוויזיה",
    "עושה מרתון",
    "חוזר שוב",
    "משדר",
    "סדרה",
    "סרט",
    "בינג'",
    "צופה",
    "מרתון",
  ],
  "העדפות מביכות": [
    "תום וג'רי",
    "ריאליטי טראש",
    "טלנובלות",
    "בובספוג",
    "אנימה",
    "רופול",
  ],
  "אינטראקציה עם תרבות": ["ממציאה ריקודים", "מחקה", "משחקת דמויות", "רוקדת"],
  "העמדת פנים": ["לובש בגדי ספורט", "מתחזה", "נראה כאילו", "כאילו התאמן"],
  "אמונות טפלות": [
    "הלבשה",
    "טקס לפני משחק",
    "אותם בגדים",
    "תלבושת",
    "לבוש",
    "הרגל קבוע",
    "חולצה",
    "בגד קבוע",
    "מכנסיים",
    "תחתונים",
  ],
  "מעקב שלילי": [
    "תוכנית",
    "מחכה שיפסידו",
    "רואה אויבים",
    "טלוויזיה",
    "רואה קבוצה שאני שונא",
    "משדר",
    "סדרה",
    "סרט",
    "מרתון",
  ],
  "רגש וספורט": [
    "מתאמן כשאני כועס",
    "בוכה ומתאמן",
    "מתרגש",
    "רגש",
    "ספורט",
    "כושר",
    "כדורגל",
    "כדורסל",
    "להתאמן",
    "לשחק",
    "להתחרות",
    "תחרות",
    "טניס",
    "כדוריד",
    "כדורעף",
    "לזרוק לסל",
  ],
  ילדותיות: ["צעצוע", "משחקי ילדות", "ישן עם בובה"],
  "הרגלים מוזרים": ["מקלף תוויות", "עוקב אחרי נמלים", "עושה טקסים"],
  "דחיינות יומיומית": [
    "משאיר כביסה",
    "לא מסדר",
    "שוכח",
    "דוחה",
    "נדחה",
    "אין כוח",
  ],
  "קיצורי דרך": [
    "חד פעמי",
    "ווייז גם כשיודע",
    "מעגל פינות",
    "לא שוטף",
    "מהיר",
    "מהר",
  ],
  "גלישה כפייתית": [
    "שיטוט",
    "סקירה",
    "שיטוטים",
    "באתר בלי להזמין",
    "גוללת באסוס",
    "ממלאה סלים",
    "תוכן",
    "מעבר",
    "אינסטגרם",
    "פייסבוק",
    "טיקטוק",
    "טיק-טוק",
    "אונליין",
  ],
  "קנייה לא הגיונית": ["יודעת שימות", "סתם", "קונה למרות ש", "לא צריך"],
  "מגע ובדיקה": ["נוגעת", "ממששת", "בודקת בדים"],
  "טקסי קניה": ["משאירה מחוץ לארון", "נוגע ושוכחת", "שמה בצד", "לא פותחת מיד"],
  "חוויות חושיות": ["ריח של זיעה", "מריח", "מרגיש", "אוהבת ריח של גשם"],
  "חוויה פיזית מוגזמת": [
    "ישרף",
    "ישן בשמש",
    "נשרף",
    "רטוב",
    "נרדם עם רעש של גשם",
    "מתקלף",
  ],
};

const FOOD_KEYWORDS = [
  "אכילה סודית",
  "אכילה",
  "אוכל",
  "אוכלת",
  "אוכלת",
  "אכלתי",
  "אכלתי",
  "חטיף",
  "נשנוש",
  "לנשנש",
  "שילוב",
  "שילובים",
  "שילוב מוזר",
  "מערבב",
  "מערבבת",
  "טעם",
  "טעים",
  "מטעם",
  "מעדן",
  "קינוח",
  "פיצה",
  "גלידה",
  "חומוס",
  "קטשופ",
  "חרדל",
  "שוקולד",
  "במבה",
  "ביסלי",
  "מרק",
  "פסטה",
  "כריך",
  "סנדוויץ",
  "חמאה",
  "גבינה",
  "לחם",
  "פיתה",
  "מקרר",
  "מטבח",
  "שמן",
  "חמוץ",
  "מתוק",
  "חריף",
  "מלוח",
  "מנה",
  "ארוחה",
  "ארוחת ערב",
  "ארוחת בוקר",
  "ארוחת לילה",
  "אוכל קר",
  "אוכל חם",
  "מבשלים",
  "מבשל",
  "לבשל",
  "לבשלת",
  "מזון",
  "סוכר",
  "קפה",
  "תה",
  "קולה",
  "שתייה",
  "שתיה",
  "שתייה מתוקה",
  "פחמימות",
  "חלבונים",
  "לאכול",
  "אוכלים",
];

const HEALTH_KEYWORDS = [
  "רחצה",
  "מקלחת",
  "להתקלח",
  "מים חמים",
  "מים קרים",
  "היגיינה",
  "שמפו",
  "מרכך",
  "סבון",
  "ריח גוף",
  "ריח",
  "דאודורנט",
  "שיניים",
  "צחצוח",
  "מברשת",
  "חוט דנטלי",
  "שיננית",
  "פה",
  "פה מסריח",
  "פצעים",
  "אנטיביוטיקה",
  "תרופה",
  "כאב",
  "כואב",
  "משחה",
  "שיער",
  "סירוק",
  "תספורת",
  "בריאות",
  "משקל",
  "עודף משקל",
  "תת משקל",
  "גרביים",
  "פיג'מה",
  "בגדים נקיים",
  "כביסה",
  "נזלת",
  "שיעול",
  "חום",
  "חולה",
  "בריא",
  "חיסון",
  "בדיקה רפואית",
  "בדיקה",
  "רופא",
  "קופת חולים",
  "סיגריה",
  "סיגריות",
  "עישון",
  "מעשן",
  "מעשנת",
  "להפסיק לעשן",
  "לישון",
  "שינה",
  "חוסר שינה",
  "נדודי שינה",
  "עייפות",
  "כושר",
  "כושר גופני",
  "כושר אישי",
];

const DIGITAL_KEYWORDS = [
  // רשתות חברתיות ונוכחות דיגיטלית
  "טוויטר",
  "אקס",
  "X",
  "אינסטגרם",
  "פייסבוק",
  "טיקטוק",
  "טיק טוק",
  "סטורי",
  "סנאפצ׳ט",
  "רשתות חברתיות",
  "רשת חברתית",
  "לגלול",
  "גולל",
  "שיתפתי",
  "שתף",
  "שיתוף",
  "פרסמתי",
  "פוסט",
  "לייק",
  "תגובה",
  "תייגתי",
  "תיוג",
  "העלאה",
  "העליתי",
  "עוקבים",
  "פולואורס",
  "פיד",
  "צפיות",
  "ויראלי",
  "וויראלי",

  // מכשירים ומסכים
  "טלפון",
  "נייד",
  "פלאפון",
  "סמארטפון",
  "סלולרי",
  "מסך",
  "מסכים",
  "מסך מגע",
  "מחשב",
  "מחשב נייד",
  "לפטופ",
  "טאבלט",
  "מכשיר",
  "אייפון",
  "אנדרואיד",
  "אוזניות",
  "מטען",
  "וויפי",
  "Wi-Fi",
  "בלוטות׳",
  "Bluetooth",

  // תוכן דיגיטלי
  "סרטונים",
  "וידאו",
  "קליפ",
  "תמונות",
  "סלפי",
  "צילום",
  "צילום מסך",
  "מסך",
  "הקלטה",
  "סטרימינג",
  "שידור חי",
  "לייב",
  "Reels",
  "סטוריז",
  "IG",
  "TikTok",
  "Snap",
  "YouTube",
  "יוטיוב",
  "Reddit",

  // זמן מסך והתמכרות
  "התמכרות למסך",
  "גלילה אינסופית",
  "אני קם.ה לנייד",
  "לפני השינה בטלפון",
  "זמן מסך",
  "בהייה במסך",
  "בהיתי",
  "בהייה",
];

const RELATIONS_KEYWORDS = [
  // זוגיות
  "זוגיות",
  "מערכת יחסים",
  "מערכת-יחסים",
  "קשר",
  "סטוץ",
  "סקס",
  "רומן",
  "יחסי מין",
  "חיבוק",
  "נשיקה",
  "אהבה",
  "בגידה",
  "נפרדנו",
  "פרידה",
  "חזרנו",
  "אני בזוגיות",
  "ריב",
  "ריבים",
  "נשואים",
  "גרושים",

  // בני זוג
  "בן זוג",
  "בת זוג",
  "החבר שלי",
  "החברה שלי",
  "אקס",
  "אקסית",
  "בעלי",
  "אשתי",
  "ארוס",
  "ארוסה",
  "חבר",
  "חברה",
  "מאורס",
  "מאורסת",

  // אפליקציות ומציאת קשרים
  "טינדר",
  "אוקייקיופיד",
  "הכרויות",
  "הכרות",
  "באמבל",
  "בליינד דייט",
  "שידוך",
  "יצאתי לדייט",

  // משפחה
  "משפחה",
  "אח",
  "אחות",
  "אמא",
  "אבא",
  "ילד",
  "ילדים",
  "בן דוד",
  "בת דודה",
  "גיס",
  "חמותי",
  "גיסה",
  "דוד",
  "דודה",

  // רגשות וקשרים בין אישיים
  "קנאה",
  "מתגעגע",
  "מתגעגעת",
  "מגע",
  "פגיעה",
  "חוסר אמון",
  "תלות",
  "תמיכה",
  "חברות",
  "קירבה",
  "אינטימיות",
];

const COLTURE_KEYWORDS = [
  // טלוויזיה, סדרות וסרטים
  "תוכנית",
  "טלוויזיה",
  "סדרה",
  "סדרות",
  "סרט",
  "סרטים",
  "ריאליטי",
  "טלנובלה",
  "אנימה",
  "נטפליקס",
  "סטרימינג",
  "פרק",
  "מרתון סדרות",
  "צפייה ישירה",
  "הוליווד",
  "דיסני",
  "קומדיה",
  "דרמה",
  "מותחן",

  // מוסיקה
  "מוזיקה",
  "מוסיקה",
  "שיר",
  "שירים",
  "פלייליסט",
  "זמר",
  "זמרת",
  "להקה",
  "הופעה",
  "קונצרט",
  "פסטיבל מוזיקה",

  // ספרים וכתיבה
  "ספר",
  "ספרים",
  "סופר",
  "סופרת",
  "קריאה",
  "כותב",
  "כותבת",
  "רומן",
  "שירה",
  "פואמה",
  "ספרות",
  "מדף ספרים",

  // תרבות פופולרית
  "פודקאסט",
  "תרבות",
  "בידור",
  "קומיקס",
  "מנגה",
  "משחקי וידאו",
  "תיאטרון",
  "הצגה",
  "מוזיאון",
  "גלריה",
  "אמן",
  "אומנות",
];

const SPORT_KEYWORDS = [
  // כללי
  "ספורט",
  "משחק",
  "אימון",
  "מאמן",
  "קבוצה",
  "תחרות",
  "ספורטאי",
  "כושר",
  "ליגה",
  "נבחרת",
  "ניצחון",
  "הפסד",
  "אליפות",
  "מדליה",
  "אצטדיון",
  "אולימפיאדה",
  "ליגת האלופות",
  "ליגה לאומית",

  // ענפי ספורט פופולריים
  "כדורגל",
  "כדורסל",
  "טניס",
  "כדורעף",
  "כדוריד",
  "שחייה",
  "ריצה",
  "קיקבוקס",
  "זומבה",
  "רכיבה",
  "גלישה",

  // משחקים ווידאו
  "פיפא",
  "FIFA",
  "NBA",
  "מאדן",
  "פרו",
  "משחקי ספורט",

  // קהל אוהדים
  "אוהד",
  "אוהדת",
  "אולטרס",
  "יציע",
  "משחק בית",
  "משחק חוץ",
  "שריקת פתיחה",
];

const LIFESTYLE_KEYWORDS = [
  // יום־יום ושגרה
  "שגרה",
  "הרגל",
  "הרגלים",
  "מטלות",
  "מטלה",
  "שינה",
  "ישן",
  "לישון",
  "נרדם",
  "להירדם",
  "לילה",
  "בוקר",
  "עייפות",

  // בית וסביבה
  "בית",
  "דירה",
  "חדר",
  "ספה",
  "סלון",
  "מטבח",
  "מיטה",
  "שכנים",
  "שכונה",

  // תחבורה ועבודה
  "תחבורה",
  "נסיעה",
  "רכבת",
  "אוטובוס",
  "נהיגה",
  "כביש",
  "פקק",
  "רמזור",
  "תחנה",
  "עבודה",
  "עובד",
  "משרד",
  "פרנסה",

  // ניקיון וסדר
  "כביסה",
  "מייבש",
  "ניקיון",
  "לנקות",
  "לסדר",
  "סדר",
  "בלגן",
  "שטיפה",
  "שואב אבק",
  "כלים",
  "לשטוף",

  // פנאי והרגלים כלליים
  "הרגל",
  "הרגלים",
  "תחביב",
  "זמן פנוי",
  "טלויזיה",
  "ספרים",
  "הרגלי שינה",
  "טקס",
  "טקס קבוע",
];

const CONSUMPTION_KEYWORDS = [
  // פעולה כללית של צריכה
  "צריכה",
  "לצרוך",
  "קנייה",
  "לקנות",
  "הזמנה",
  "קניות",
  "רכישה",
  "שופינג",
  "קונה",

  // חנויות ואתרים
  "חנויות",
  "חנות",
  "שיין",
  "שיאין",
  "אסוס",
  "אמאזון",
  "איקאה",
  "עלי אקספרס",
  "זארה",
  "H&M",
  "סופרפארם",
  "סופר",

  // בגדים ואופנה
  "לבוש",
  "בגדים",
  "חולצה",
  "מכנסיים",
  "ג'ינס",
  "תחתונים",
  "חזייה",
  "נעליים",
  "סוודר",
  "מעיל",
  "נעל",
  "חגורה",
  "אביזרים",

  // מבצעים והנחות
  "סייל",
  "הנחה",
  "מבצע",
  "2 ב־100",
  "קוד קופון",
  "משלוח חינם",

  // קנייה באינטרנט
  "אינטרנט",
  "קנייה אונליין",
  "קניות באינטרנט",
  "הזמנה אונליין",
  "סל קניות",
  "עגלת קניות",
  "הוספתי לעגלה",
];

const WEATHER_KEYWORDS = [
  "קור",
  "חום",
  "שמש",
  "גשם",
  "שלג",
  "רוח",
  "סערה",
  "עננים",
  "ענן",
  "ברק",
  "ברקים",
  "ברד",
  "טפטוף",
  "טמפרטורה",
  "לחות",
  "ערפל",
  "הוריקן",
  "טייפון",
  "צונאמי",
  "סערת שלג",
  "גשמים",
  "רוחות",
  "ברדון",
  "סערות",
  "מזג אוויר",
  "סופת שלגים",
  "סופת ברד",
  "סערת רעמים",
  "שקיעה",
  "זריחה",
  "סערה טרופית",
];

const NEWS_KEYWORDS = [
  "התראה",
  "התרעה",
  "התראות",
  "התרעות",
  "צבע אדום",
  "מקלט",
  "ממד",
  "ממ''ד",
  "פיקוד העורף",
  "חדשות",
  "I24 NEWS",
  "NEWS",
  "מלחמה",
  "טרור",
  "פיגוע",
  "פצועים",
  "אסון",
  "פוליטיקה",
  "בחירות",
  "נשיא",
  "כנסת",
  "משטרה",
  "משבר",
  "הפגנה",
  "תקיפה",
  "קרבות",
  "סכסוך",
  "סיקור",
];

const KEYWORDS_MAP: Record<ECATEGORIES, string[]> = {
  [ECATEGORIES.FOOD]: FOOD_KEYWORDS,
  [ECATEGORIES.HEALTH]: HEALTH_KEYWORDS,
  [ECATEGORIES.COLTURE]: COLTURE_KEYWORDS,
  [ECATEGORIES.CONSUMPTION]: CONSUMPTION_KEYWORDS,
  [ECATEGORIES.SPORT]: SPORT_KEYWORDS,
  [ECATEGORIES.NEWS]: NEWS_KEYWORDS,
  [ECATEGORIES.DIGITAL]: DIGITAL_KEYWORDS,
  [ECATEGORIES.RELATIONS]: RELATIONS_KEYWORDS,
  [ECATEGORIES.LIFESTYLE]: LIFESTYLE_KEYWORDS,
  [ECATEGORIES.WEATHER]: WEATHER_KEYWORDS,
};

export const detectCategoryFromConfession = (
  confession: string
): ECATEGORIES => {
  const normalized = confession.trim().toLowerCase();

  for (const [category, keywords] of Object.entries(KEYWORDS_MAP)) {
    if (
      keywords.some((keyword) => normalized.includes(keyword.toLowerCase()))
    ) {
      return category as ECATEGORIES;
    }
  }

  return ECATEGORIES.LIFESTYLE;
};
